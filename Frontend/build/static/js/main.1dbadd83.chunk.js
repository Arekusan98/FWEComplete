(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{12:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),i=n.n(c),u=n(1),l=n.n(u),s=n(2),o=n(3),m=function(e){var t=e.children;return r.a.createElement("div",null,t)},p=function(e){e.children;var t=e.recipeId,n=e.addHandler,c=Object(a.useState)(!1),i=Object(o.a)(c,2),u=i[0],l=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"addIngredientFormContainer"},r.a.createElement("button",{className:"addIngredientButton",onClick:function(){l(!u)}},"Zutat hinzuf\xfcgen"),u&&r.a.createElement(d,{recipeId:t,addHandler:n})))},d=function(e){e.children;var t=e.recipeId,n=e.addHandler;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"addIngredientForm"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name"}),r.a.createElement("label",null,"Menge"),r.a.createElement("input",{type:"text",name:"amount"}),r.a.createElement("label",null,"Bild"),r.a.createElement("input",{type:"text",name:"imageUrl"}),r.a.createElement("button",{type:"button",onClick:function(e){(function(e,t){return f.apply(this,arguments)})(e.currentTarget.parentElement,t).then(n())}},"Hinzuf\xfcgen")))};function f(){return(f=Object(s.a)(l.a.mark((function e(t,n){var a,r,c,i,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return");case 2:a={amount:""},r={name:"",imageUrl:""},c=0;case 5:if(!(c<t.children.length)){e.next=20;break}if("INPUT"!==t.children[c].tagName){e.next=17;break}i=t.children[c],e.t0=i.name,e.next="amount"===e.t0?11:"name"===e.t0?13:"imageUrl"===e.t0?15:17;break;case 11:return a.amount=i.value,e.abrupt("break",17);case 13:return r.name=i.value,e.abrupt("break",17);case 15:return r.imageUrl=i.value,e.abrupt("break",17);case 17:c++,e.next=5;break;case 20:return e.next=22,h(r);case 22:if(void 0===(u=e.sent)){e.next=27;break}return console.log(n),e.next=27,g(a.amount,u.id,n);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(){var e=Object(s.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=Object(s.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/ingredient/name/"+t.name);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=3,n();case 3:if(void 0!==(a=e.sent).data){e.next=10;break}return e.next=7,E(t);case 7:return e.next=9,n();case 9:a=e.sent;case 10:return e.abrupt("return",a.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("http://localhost:3000/api/ingredient",n).then((function(e){return e.json()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(s.a)(l.a.mark((function e(t,n,a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:t})},e.next=3,fetch("http://localhost:3000/api/recipe/"+a+"/ingredients/"+n,r).then((function(e){return e.json()}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),b=function(e){e.children;var t=e.recipe,n=e.editHandler,c=Object(a.useState)(!1),i=Object(o.a)(c,2),u=i[0],l=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"editRecipeFormContainer"},r.a.createElement("button",{className:"editRecipeButton",onClick:function(){l(!u)}},"Rezept bearbeiten"),u&&r.a.createElement(v,{recipe:t,editHandler:n})))},v=function(e){e.children;var t=e.recipe,n=e.editHandler;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"editRecipeForm"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name",defaultValue:t.name}),r.a.createElement("label",null,"Kochanweisungen"),r.a.createElement("input",{type:"textarea",name:"instructions",defaultValue:t.cookingInstructions}),r.a.createElement("label",null,"Autor"),r.a.createElement("input",{type:"text",name:"author",defaultValue:t.author}),r.a.createElement("label",null,"Bewertung"),r.a.createElement("input",{type:"number",name:"rating",defaultValue:t.rating}),r.a.createElement("label",null,"Portionsgr\xf6\xdfe"),r.a.createElement("input",{type:"number",name:"size",defaultValue:t.servingSize}),r.a.createElement("button",{type:"button",onClick:function(e){(function(e,t){return N.apply(this,arguments)})(e.currentTarget.parentElement,t.id).then(n())}},"Speichern")))};function N(){return(N=Object(s.a)(l.a.mark((function e(t,n){var a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return");case 2:a={name:"",cookingInstructions:"",rating:0,author:"",servingSize:0},r=0;case 4:if(!(r<t.children.length)){e.next=23;break}if("INPUT"!==t.children[r].tagName){e.next=20;break}c=t.children[r],e.t0=c.name,e.next="name"===e.t0?10:"instructions"===e.t0?12:"author"===e.t0?14:"rating"===e.t0?16:"size"===e.t0?18:20;break;case 10:return a.name=c.value,e.abrupt("break",20);case 12:return a.cookingInstructions=c.value,e.abrupt("break",20);case 14:return a.author=c.value,e.abrupt("break",20);case 16:return a.rating=c.value,e.abrupt("break",20);case 18:return a.servingSize=c.value,e.abrupt("break",20);case 20:r++,e.next=4;break;case 23:return e.next=25,k(a,n);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("http://localhost:3000/api/recipe/"+n,a).then((function(e){return e.json()}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(e){var t=e.recipeId,n=e.setState,c=Object(a.useState)(null),i=Object(o.a)(c,2),u=i[0],d=i[1],f=Object(a.useState)(null),h=Object(o.a)(f,2),E=h[0],g=h[1],v=function(){var e=Object(s.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/recipe/"+t+"/ingredients");case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,g(a.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(s.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/recipe/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,d(a.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(a.useEffect)((function(){N(),v()}),[]),null===u)return r.a.createElement(m,null,"Kein Rezept gefunden");if(null===E)return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null,"Keine Zutaten f\xfcr dieses Rezept gefunden"),r.a.createElement(j,{recipe:u}),r.a.createElement(p,{recipeId:t,addHandler:v}));var k=[];return null===E||void 0===E||E.forEach((function(e){k.push(r.a.createElement(y,{ingredient:e,recipe:u,deleteHandler:v}))})),r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{recipe:u},k),r.a.createElement(p,{recipeId:t,addHandler:v}),r.a.createElement(b,{recipe:u,editHandler:N}),r.a.createElement("button",{onClick:function(){return n(!0)}},"Rezept schlie\xdfen"))},j=function(e){var t=e.children,n=e.recipe;return r.a.createElement("section",{className:"recipe",id:n.id.toString()+"recipe"},r.a.createElement("section",{className:"recipeName"},"Name: "),r.a.createElement("section",{className:"recipeNameValue"},n.name),r.a.createElement("section",{className:"recipeInstructions"},"Anleitung: "),r.a.createElement("section",{className:"recipeInstructionsValue"},n.cookingInstructions),r.a.createElement("section",{className:"recipeRating"},"Bewertung: "),r.a.createElement("section",{className:"recipeRatingValue"},n.rating),r.a.createElement("section",{className:"recipeServingSize"},"Portionsgr\xf6\xdfe: "),r.a.createElement("section",{className:"recipeServingSizeValue"},n.servingSize),r.a.createElement("section",{className:"recipeAuthor"},"Autor: "),r.a.createElement("section",{className:"recipeAuthorValue"},n.author),r.a.createElement("section",{className:"ingredients"},t))},y=function(e){e.children;var t=e.ingredient,n=e.recipe,a=e.deleteHandler;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"ingredient",id:t.id.toString()+"ingredient"},r.a.createElement("section",{className:"ingredientName"},"Name: "),r.a.createElement("section",{className:"ingredientNameValue"},t.name),r.a.createElement(S,{ingredientId:t.id,recipeId:n.id}),r.a.createElement("button",{className:"deleteIngredientButton",onClick:function(){O(t.id,n.id).then(a())}},"Zutat entfernen")))},S=function(e){var t=e.recipeId,n=e.ingredientId,c=Object(a.useState)(null),i=Object(o.a)(c,2),u=i[0],p=i[1],d=function(){var e=Object(s.a)(l.a.mark((function e(){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/ingredientsToRecipe/recipe/"+t+"/ingredient/"+n);case 2:return a=e.sent,e.next=5,a.json();case 5:r=e.sent,p(r.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){d()}),[]),null===u?r.a.createElement(m,null,"Die entsprechenden Mengen der Zutaten wurden nicht gefunden"):r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"ingredientAmount"},"Menge: "),r.a.createElement("section",{className:"ingredientAmountValue"},u[0].amount))},O=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"DELETE"},e.next=3,fetch("http://localhost:3000/api/recipe/"+n+"/ingredients/"+t,a).then((function(e){return e.json()}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"addRecipeFormContainer"},r.a.createElement("button",{className:"addRecipeButton",onClick:function(){c(!n)}},"Rezept hinzuf\xfcgen"),n&&r.a.createElement(I,null)))},I=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"addRecipeForm"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name"}),r.a.createElement("label",null,"Kochanweisungen"),r.a.createElement("input",{type:"textarea",name:"instructions"}),r.a.createElement("label",null,"Autor"),r.a.createElement("input",{type:"text",name:"author"}),r.a.createElement("label",null,"Bewertung"),r.a.createElement("input",{type:"number",name:"rating"}),r.a.createElement("label",null,"Portionsgr\xf6\xdfe"),r.a.createElement("input",{type:"number",name:"size"}),r.a.createElement("button",{type:"button",onClick:function(e){!function(e){if(null===e)return;for(var t={name:"",cookingInstructions:"",rating:0,author:"",servingSize:0},n=0;n<e.children.length;n++)if("INPUT"===e.children[n].tagName){var a=e.children[n];switch(a.name){case"name":t.name=a.value;break;case"instructions":t.cookingInstructions=a.value;break;case"author":t.author=a.value;break;case"rating":t.rating=a.value;break;case"size":t.servingSize=a.value}}C(t)}(e.currentTarget.parentElement)}},"Speichern")))};var z,C=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("http://localhost:3000/api/recipe/",n).then((function(e){return e.json()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=0,T=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1],i=function(){var e=Object(s.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/api/recipe");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=Object(a.useState)(!0),p=Object(o.a)(u,2),d=p[0],f=p[1];if(Object(a.useEffect)((function(){i()}),[]),null===n)return r.a.createElement(m,null,"Es wurden keine Rezepte gefunden");z=r.a.createElement("button",{className:"recipeDetailsButton",name:R.toString(),onClick:function(e){var t;f(!d),R=null===(t=e.currentTarget.parentElement)||void 0===t?void 0:t.className}},"Rezept \xf6ffnen");var h=[];return n.data.forEach((function(e){h.push(r.a.createElement(V,{recipe:e,detailsBtn:z,setState:i}))})),r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(F,null,h),r.a.createElement(w,null))||!d&&r.a.createElement(x,{setState:f,recipeId:R}))},F=function(e){var t=e.children;return r.a.createElement("section",{className:"recipeContainer"},t)},V=function(e){e.children;var t=e.recipe,n=e.detailsBtn;e.setState;return r.a.createElement("section",{className:"recipe",id:t.id.toString()+"recipe"},r.a.createElement("section",{className:"recipeName"},"Name: "),r.a.createElement("section",{className:"recipeNameValue"},t.name),r.a.createElement("section",{className:"recipeInstructions"},"Anleitung: "),r.a.createElement("section",{className:"recipeInstructionsValue"},t.cookingInstructions),r.a.createElement("section",{className:"recipeRating"},"Bewertung: "),r.a.createElement("section",{className:"recipeRatingValue"},t.rating),r.a.createElement("section",{className:"recipeServingSize"},"Portionsgr\xf6\xdfe: "),r.a.createElement("section",{className:"recipeServingSizeValue"},t.servingSize),r.a.createElement("section",{className:"recipeAuthor"},"Autor: "),r.a.createElement("section",{className:"recipeAuthorValue"},t.author),r.a.createElement("section",{className:"recipeButtons"},r.a.createElement("section",{className:t.id.toString()},r.a.createElement("button",{className:t.id.toString(),onClick:function(e){!function(e){B.apply(this,arguments)}(t.id)}},"Dieses Rezept l\xf6schen"),n)))};function B(){return(B=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"DELETE"},e.next=3,fetch("http://localhost:3000/api/recipe/"+t,n).then((function(e){return e.json()}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=document.getElementsByTagName("main")[0];i.a.render(r.a.createElement(T,null),A)},6:function(e,t,n){e.exports=n(12)}},[[6,1,2]]]);
//# sourceMappingURL=main.1dbadd83.chunk.js.map